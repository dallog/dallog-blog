{"componentChunkName":"component---src-templates-post-jsx","path":"/dallog-jacoco/","result":{"data":{"site":{"siteMetadata":{"title":"dal.log"}},"markdownRemark":{"id":"98e390ef-fb19-5d01-a3ef-d14bc0e65176","excerpt":"이 글은 우테코 달록팀 크루 후디가 작성했습니다. 코드 커버리지란? 코드 커버리지란, 테스트 코드가 프로덕션 코드를 얼마나 실행했는지를 백분율로 나타내는 지표입니다. 즉, 테스트 코드가 실제로 프로덕션 코드를 얼마나 몇 퍼센트 검증하고 있는지를 나타냅니다. 코드 커버리지를 통해 현재 작성된 테스트 코드의 수가 충분한것인지 논의할 수 있습니다. 더 자세한 …","html":"<blockquote>\n<p>이 글은 우테코 달록팀 크루 <a href=\"https://github.com/devHudi\">후디</a>가 작성했습니다.</p>\n</blockquote>\n<h2>코드 커버리지란?</h2>\n<p>코드 커버리지란, 테스트 코드가 프로덕션 코드를 얼마나 실행했는지를 백분율로 나타내는 지표입니다. 즉, 테스트 코드가 실제로 프로덕션 코드를 얼마나 몇 퍼센트 검증하고 있는지를 나타냅니다. 코드 커버리지를 통해 현재 작성된 테스트 코드의 수가 충분한것인지 논의할 수 있습니다.</p>\n<p>더 자세한 내용은 제가 작성한 <a href=\"https://hudi.blog/code-coverage/\">코드 커버리지(Code Coverage)란?</a> 포스팅을 참고해주세요! 😊</p>\n<h2>Jacoco란?</h2>\n<p>Jacoco는 자바 진영에서 프로젝트의 코드 커버리지를 분석하고, 보고서를 만들어주는 역할을 하는 코드 커버리지 프레임워크입니다. 달록팀은 이번에 Jacoco를 도입하여 코드 커버리지를 분석하고, 코드 커버리지가 일정 수준 이하라면 빌드가 실패하도록 설정하였습니다. 이 과정을 여러분께 공유드립니다.</p>\n<h2>프로젝트에 Jacoco 적용하기</h2>\n<div class=\"gatsby-highlight\" data-language=\"groovy\"><pre class=\"language-groovy\"><code class=\"language-groovy\">plugins <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// ...</span>\n    id <span class=\"token string\">'jacoco'</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// ...</span>\n\njacoco <span class=\"token punctuation\">{</span>\n    toolVersion <span class=\"token operator\">=</span> <span class=\"token interpolation-string\"><span class=\"token string\">\"0.8.7\"</span></span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>위와 같이 <code class=\"language-text\">build.gradle</code> 파일에서 Jacoco를 플러그인으로 가져오고, 버전을 설정해줍니다.</p>\n<h2>커버리지 보고서 생성하기</h2>\n<h3>바이너리 보고서 생성</h3>\n<p>Jacoco 플러그인을 불러왔다면, 프로젝트의 테스트 코드를 한번 실행해봅시다.</p>\n<p><span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 586px; margin-bottom: 16px;'>\n      <a class='gatsby-resp-image-link' href='/static/89e4b0b85a807df03c7c5d25a3d7cdc0/52581/test.exec.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 58.235294117647065%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAABxElEQVQoz5WS22oTURSG5wWEGuydoSJ4IxQpJJkMTeMkTXOY2aeZHKYWq7YkrSGtIVKaG30G30G8TyhKrrzW0AOUPtDv2jNpwNbU9OJnbfbs+fj22stQooCmyqLLk6h7aTT8FDyWhXRsKPfltCrXniuGYOvYFRkcsgSkHwE1QFRyN6BzApWTBXPz2FQFHDGyFKuoKQJ7Jnxa39eUgPpQDq+EjQOeQkNaqPsmAjL1eSY0vQbNYxoCJQFfqzx61MeGskLDGtUGgXWNgH9nlvEUGIgcOtzEJplpw+sHqkq6NlmKSaRzd28jIIsMP/JEaKhhdbLUtaZboCJ4UE1NjWcaSt2biWGbp6l35sTQCgEhVEXroJacAPU//w4ZZmjubGxLG0d8BYE0yZJ+png0AZ5+tArNZYWsytFaOWu0fzt6YgzGSmC8TFcroSNo07PBadCZXEPZ2UCxXITjFsH1uf9EuAUYC/uXWGz9Qqw1xoPmKRK9n0j0z2F9usKL4wusfr7E0w9neNgc41FrVn4jtneBZ2++wni8O8LSuwFliCc7Q5jtb0h3T2Afj2D1fiDfH+H5+xPE3w6xRN/1udsZIL7zHctbX/AHSCnOveAjvgAAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='test exec' title='test exec' src='/static/89e4b0b85a807df03c7c5d25a3d7cdc0/52581/test.exec.png' srcset='/static/89e4b0b85a807df03c7c5d25a3d7cdc0/e7570/test.exec.png 170w,\n/static/89e4b0b85a807df03c7c5d25a3d7cdc0/f46e7/test.exec.png 340w,\n/static/89e4b0b85a807df03c7c5d25a3d7cdc0/52581/test.exec.png 586w' sizes='(max-width: 586px) 100vw, 586px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span></p>\n<p>그럼 위와 같이 <strong>build → jacoco</strong> 에서 <code class=\"language-text\">test.exec</code> 파일이 생성된 것을 확인할 수 있습니다. 해당 파일은 Jacoco가 테스트 코드를 실행하고, 코드 커버리지를 분석하여 만들어준 보고서 파일입니다.</p>\n<p>이 파일은 바이너리 파일이라서 일반적인 방법으로 우리가 읽을 수 없습니다.</p>\n<h3>XML, CSV, HTML 파일로 보고서 생성</h3>\n<p>하지만 Jacoco는 위에서 생성한 바이너리 커버리지 (<code class=\"language-text\">test.exec</code>) 파일을 사람이 읽을 수 있는 XML, CSV, HTML 파일로도 생성하는 기능을 제공합니다.</p>\n<p>Jacoco Gradle 플러그인은 <code class=\"language-text\">jacocoTestReport</code> 라는 태스크가 있습니다. 이 태스크는 바이너리 보고서를 사람이 읽기 좋은 형태로 출력해주는 역할을 합니다. 아래와 같이 XML 파일을 생성하도록 태스크를 작성합니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"groovy\"><pre class=\"language-groovy\"><code class=\"language-groovy\">jacocoTestReport <span class=\"token punctuation\">{</span>\n    reports <span class=\"token punctuation\">{</span>\n        xml<span class=\"token punctuation\">.</span>enabled <span class=\"token boolean\">true</span>\n        csv<span class=\"token punctuation\">.</span>enabled <span class=\"token boolean\">true</span>\n        html<span class=\"token punctuation\">.</span>enabled <span class=\"token boolean\">true</span>\n\n        xml<span class=\"token punctuation\">.</span>destination <span class=\"token function\">file</span><span class=\"token punctuation\">(</span><span class=\"token interpolation-string\"><span class=\"token string\">\"</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token expression\">buildDir</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">/jacoco/index.xml\"</span></span><span class=\"token punctuation\">)</span>\n        csv<span class=\"token punctuation\">.</span>destination <span class=\"token function\">file</span><span class=\"token punctuation\">(</span><span class=\"token interpolation-string\"><span class=\"token string\">\"</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token expression\">buildDir</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">/jacoco/index.csv\"</span></span><span class=\"token punctuation\">)</span>\n        html<span class=\"token punctuation\">.</span>destination <span class=\"token function\">file</span><span class=\"token punctuation\">(</span><span class=\"token interpolation-string\"><span class=\"token string\">\"</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token expression\">buildDir</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">/jacoco/index.html\"</span></span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<blockquote>\n<p>위에서 <code class=\"language-text\">${buildDir}</code> 은 빌드 디렉토리 경로를 의미합니다.</p>\n</blockquote>\n<p>테스트가 이미 실행되어 <code class=\"language-text\">test.exec</code> 파일이 생성되었다고 가정하고, 아래 명령을 통해 <code class=\"language-text\">jacocoTestReport</code> 태스크를 실행하고 XML, CSV, HTML 파일을 얻어봅니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ ./gradlew jacocoTestReport</code></pre></div>\n<p><span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 582px; margin-bottom: 16px;'>\n      <a class='gatsby-resp-image-link' href='/static/73488bc1ed6d7818f082c2e00d5d5f59/0b5a5/report-files.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 47.64705882352941%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAAB5UlEQVQoz4WSS28SURiG5x+YVEEQgiamxrAhlIsiAq1pabkOg1WIRByY6cWkpkJoWuJC/4RxYYwrNyYuqgaKUtoaSmtiG+MfejwzLKyX4uLJd5Lzfu/3noukJG6Sy07zMBemmfVwR/FTVAIUlCD5VEQQRRFVSUbIjWC4H0VKp2dJZRLcy86wJEeZm58hI2oqI9aJOPG5OLOiGrr/kU1NI40tHmHRB5zRv+LSe+QrrwisfyP27Ae+jSNiT78TaB5jWzrkrH6AZeGQc39gWRgwtnjM5fIbJLvWxVlp4ahuMV7d5Fb5Jd5HHUJrPbyrn/E97uIVuLQtHJU2TqFzVNu/YfTbtW3cpRdIVr2PTesJdrHpu0zU2kw0+oSbAzy1vrm+tLyHtbojNP/GLvqt+j5X7r8+kVBMd2kt/Cvv8Ne6xDZ6BOtdbqxtM77c4YKZ7hROJrQIZ2PKeW0Pp7jDKWHorX8huH6Ae7WPp75vVmt1eALzJH+xY76DmdCYcFHdFAk/clV9i1pqMln7QPxJj0ijQ7TxCe9KC+eD97gqp2D0Cx936TmS8XeGiH+UmqSoquTlEHLaRy59DSXrR06G+aUbRQRJFiaGkZyMoaSnUMsFCrdDFPJB7irXKc4HyGciYt/QxTD0o/gJh6ykSyVUQeEAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='report files' title='report files' src='/static/73488bc1ed6d7818f082c2e00d5d5f59/0b5a5/report-files.png' srcset='/static/73488bc1ed6d7818f082c2e00d5d5f59/e7570/report-files.png 170w,\n/static/73488bc1ed6d7818f082c2e00d5d5f59/f46e7/report-files.png 340w,\n/static/73488bc1ed6d7818f082c2e00d5d5f59/0b5a5/report-files.png 582w' sizes='(max-width: 582px) 100vw, 582px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span></p>\n<p>build → jacoco 에서 <code class=\"language-text\">index.xml</code> <code class=\"language-text\">index.csv</code> 파일, 그리고 <code class=\"language-text\">index.html</code> 디렉토리가 생성된 것을 확인할 수 있습니다. <code class=\"language-text\">html</code> 파일은 <code class=\"language-text\">index.html</code> 디렉토리 내부 존재합니다.</p>\n<p>XML과 CSV파일은 소나큐브등과 연동할 때 주로 사용되며, HTML 파일은 사람이 직접 커버리지를 확인할 때 사용됩니다. HTML 파일을 열어보면 아래 사진과 같이 보고서를 눈으로 확인할 수 있습니다.</p>\n<p><span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;'>\n      <a class='gatsby-resp-image-link' href='/static/ecb04d6d63572fdea859ac014f0840fa/fac4b/report.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 28.82352941176471%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABYlAAAWJQFJUiTwAAABI0lEQVQY001RbU/DIBjc//9LJn4zMa7turVWM2384rLMAaO8FVraE6jbDCH38IQ77jlW2+2AurJoXh0OhxHOjfjqWrSqxfF8hFEa8zyHvoOUIqExBtb2AXU6931/26sy19gVAu+NgRAemCdUdIe93IMRiotgmMOy4TLnPAhZaK0T+YrLAzbUBqt15rHZOJSlQ7Z2ID8THk8PqLsaikm05BN2CiRtQClNJCllEosYxa6Ok8MsG2+CES/M45k8gViCjnGc+Al+HpODruM3Z4ug+Bv1n+DL2qMoHPLcoaoG9HZAQfMg4kHPBAf2jQkeWikQQhJJqbvDKHbPMIy8KUdUO4e6dnhrBnBh0YoPTCFLxhhYyDDWkRAdLp+xjKm1StnG3tXhL3zfx4vGUt3/AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='report' title='report' src='/static/ecb04d6d63572fdea859ac014f0840fa/ca1dc/report.png' srcset='/static/ecb04d6d63572fdea859ac014f0840fa/e7570/report.png 170w,\n/static/ecb04d6d63572fdea859ac014f0840fa/f46e7/report.png 340w,\n/static/ecb04d6d63572fdea859ac014f0840fa/ca1dc/report.png 680w,\n/static/ecb04d6d63572fdea859ac014f0840fa/02d09/report.png 1020w,\n/static/ecb04d6d63572fdea859ac014f0840fa/9d567/report.png 1360w,\n/static/ecb04d6d63572fdea859ac014f0840fa/fac4b/report.png 2276w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span></p>\n<blockquote>\n<p>jacocoTestReport에 대한 자세한 내용은 <a href=\"https://docs.gradle.org/current/dsl/org.gradle.testing.jacoco.tasks.JacocoReport.html\">https://docs.gradle.org/current/dsl/org.gradle.testing.jacoco.tasks.JacocoReport.html</a> 를 참고해주세요.</p>\n</blockquote>\n<h3>테스트가 끝난뒤 바로 jacocoTestReport 실행하기</h3>\n<p>test 태스크가 끝난 다음에 jacocoTestReport 를 실행하는 2번의 과정은 조금 번거롭습니다. 아래와 같이 설정하면, 테스트가 끝나면 곧바로 jacocoTestReport가 실행되게 만들수 있습니다. 아래와 같이 test 태스크에 추가합니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"groovy\"><pre class=\"language-groovy\"><code class=\"language-groovy\">test <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// ...</span>\n    finalizedBy <span class=\"token string\">'jacocoTestReport'</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Gradle에서 <code class=\"language-text\">finalizedBy</code> 를 사용하면, 해당 태스크가 끝나고 성공 여부와 관계없이 명시한 태스크를 이어 실행하도록 설정할 수 있습니다.</p>\n<h2>빌드가 성공하는 커버리지 기준 설정</h2>\n<p>Jacoco Gradle 플러그인에서는 <code class=\"language-text\">jacocoTestCoverageVerification</code> 이라는 태스크가 존재합니다. 이 태스크에서 규칙을 설정하여 프로젝트의 코드 커버리지가 규칙을 통과하지 않으면 빌드가 실패하도록 만들 수 있습니다. 아래는 달록팀의 설정입니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"groovy\"><pre class=\"language-groovy\"><code class=\"language-groovy\">jacocoTestCoverageVerification <span class=\"token punctuation\">{</span>\n    violationRules <span class=\"token punctuation\">{</span>\n        rule <span class=\"token punctuation\">{</span>\n            enabled <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span>\n            element <span class=\"token operator\">=</span> <span class=\"token string\">'CLASS'</span>\n\n            limit <span class=\"token punctuation\">{</span>\n                counter <span class=\"token operator\">=</span> <span class=\"token string\">'LINE'</span>\n                value <span class=\"token operator\">=</span> <span class=\"token string\">'COVEREDRATIO'</span>\n                minimum <span class=\"token operator\">=</span> <span class=\"token number\">0.75</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n\n        <span class=\"token comment\">// ...</span>\n\n        rule <span class=\"token punctuation\">{</span>\n            <span class=\"token comment\">// 규칙을 여러개 추가할 수 있습니다.</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><code class=\"language-text\">rule</code> 블럭 내부에서 아래와 같은 속성으로 규칙을 정의할 수 있습니다.</p>\n<h3>enabled</h3>\n<p>규칙의 활성화 여부를 나타냅니다. 기본 값은 <code class=\"language-text\">true</code> 입니다.</p>\n<h3>element</h3>\n<p>커버리지를 체크할 단위를 설정합니다. 아래와 같은 옵션이 있습니다.</p>\n<ul>\n<li><code class=\"language-text\">BUNDLE</code> : 패키지 번들 (전체 프로젝트)</li>\n<li><code class=\"language-text\">CLASS</code> : 클래스</li>\n<li><code class=\"language-text\">GROUP</code> : 논리적 번들 그룹</li>\n<li><code class=\"language-text\">METHOD</code> : 메소드</li>\n<li><code class=\"language-text\">PACKAGE</code> : 패키지</li>\n<li><code class=\"language-text\">SOURCEFILE</code> : 소스파일</li>\n</ul>\n<p>기본값은 <code class=\"language-text\">BUNDLE</code> 입니다.</p>\n<h3>counter</h3>\n<p>코드 커버리지를 측정할 때 사용되는 지표입니다. 아래와 같은 옵션이 있습니다.</p>\n<ul>\n<li><code class=\"language-text\">LINE</code> : 빈 줄을 제외한 실제 코드의 라인 수</li>\n<li><code class=\"language-text\">BRANCH</code> : 조건문등의 분기 수</li>\n<li><code class=\"language-text\">CLASS</code> : 클래스 수</li>\n<li><code class=\"language-text\">METHOD</code> : 메소드 수</li>\n<li><code class=\"language-text\">INSTRUCTION</code> : 자바 바이트코드 명령 수</li>\n<li><code class=\"language-text\">COMPLEXITY</code> : 복잡도</li>\n</ul>\n<p>기본값은 <code class=\"language-text\">INSTRUCTION</code> 입니다.</p>\n<h2>보고서 생성 후 커버리지 만족 검사</h2>\n<p>조금 전, <code class=\"language-text\">finalizedBy</code> 속성으로 <code class=\"language-text\">test</code> 태스크가 실행되고 <code class=\"language-text\">jacocoTestReport</code> 가 실행되도록 설정했습니다.</p>\n<p>이어서 <code class=\"language-text\">jacocoTestReport</code> 태스크가 실행된 이후 <code class=\"language-text\">jacocoTestCoverageVerification</code> 가 바로 실행되어 테스트가 실행되고, 커버리지가 기준 미달이면 빌드가 실패되도록 흐름을 만들어봅시다.</p>\n<div class=\"gatsby-highlight\" data-language=\"groovy\"><pre class=\"language-groovy\"><code class=\"language-groovy\">jacocoTestReport <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// ...</span>\n\n    finalizedBy <span class=\"token string\">'jacocoTestCoverageVerification'</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>간단히 위처럼 <code class=\"language-text\">jacocoTestReport</code> 에 추가해주면 끝입니다.</p>\n<h2>코드 커버리지 분석 대상 제외</h2>\n<p>예외 클래스, DTO 클래스 등 굳이 테스트를 하지 않아도 되는 클래스들이 있습니다. 이런 클래스까지 포함하여 코드 커버리지를 계산하면 코드 커버리지가 낮게 나올 것 입니다. 이런 클래스를 분석 대상에서 제외할 수 있습니다.</p>\n<h3>jacocoTestReport</h3>\n<p><code class=\"language-text\">jacocoTestReport</code> 태스크에서는 보고서에 표시되는 클래스 중 일부를 제외할 수 있습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"groovy\"><pre class=\"language-groovy\"><code class=\"language-groovy\">jacocoTestReport <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// ...</span>\n    afterEvaluate <span class=\"token punctuation\">{</span>\n        classDirectories<span class=\"token punctuation\">.</span><span class=\"token function\">setFrom</span><span class=\"token punctuation\">(</span>\n                <span class=\"token function\">files</span><span class=\"token punctuation\">(</span>classDirectories<span class=\"token punctuation\">.</span>files<span class=\"token punctuation\">.</span>collect <span class=\"token punctuation\">{</span>\n                    <span class=\"token function\">fileTree</span><span class=\"token punctuation\">(</span>dir<span class=\"token punctuation\">:</span> it<span class=\"token punctuation\">,</span> excludes<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n                            <span class=\"token string\">'**/*Application*'</span><span class=\"token punctuation\">,</span>\n                            <span class=\"token string\">'**/*Exception*'</span><span class=\"token punctuation\">,</span>\n                            <span class=\"token string\">'**/dto/**'</span><span class=\"token punctuation\">,</span>\n                            <span class=\"token comment\">// ...</span>\n                    <span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token comment\">// ...</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>제외 대상 파일의 경로를 <a href=\"https://ant.apache.org/manual/dirtasks.html\">Ant 스타일</a>로 작성합니다.</p>\n<h3>jacocoTestCoverageVerification</h3>\n<p><code class=\"language-text\">jacocoTestCoverageVerification</code> 에서는 코드 커버리지를 만족하는지 확인할 대상 중 일부를 제외할 수 있습니다. <code class=\"language-text\">jacocoTestReport</code> 에서 작성한 것과 다르게 파일의 경로가 아닌 패키지 + 클래스명을 적어주어야 합니다. 와일드 카드로 <code class=\"language-text\">*</code> (여러 글자) 와 <code class=\"language-text\">?</code> (한 글자) 를 사용할 수 있습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"groovy\"><pre class=\"language-groovy\"><code class=\"language-groovy\">jacocoTestCoverageVerification <span class=\"token punctuation\">{</span>\n    violationRules <span class=\"token punctuation\">{</span>\n        rule <span class=\"token punctuation\">{</span>\n            <span class=\"token comment\">// ...</span>\n\n            excludes <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n                    <span class=\"token string\">'*.*Application'</span><span class=\"token punctuation\">,</span>\n                    <span class=\"token string\">'*.*Exception'</span><span class=\"token punctuation\">,</span>\n                    <span class=\"token string\">'*.dto.*'</span><span class=\"token punctuation\">,</span>\n                    <span class=\"token comment\">// ...</span>\n            <span class=\"token punctuation\">]</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2>참고</h2>\n<ul>\n<li><a href=\"https://techblog.woowahan.com/2661/\">https://techblog.woowahan.com/2661</a></li>\n<li><a href=\"https://bottom-to-top.tistory.com/36\">https://bottom-to-top.tistory.com/36</a></li>\n</ul>","frontmatter":{"title":"달록의 Jacoco 적용기 (feat. Gradle)","date":"August 16, 2022","update":null,"tags":["DevOps"],"series":null},"fields":{"slug":"/dallog-jacoco/","readingTime":{"minutes":9.14}}},"seriesList":{"edges":[{"node":{"id":"a621dc7b-8590-5ec6-9b52-3d9e5182486d","fields":{"slug":"/appearance-background-of-jpa/"},"frontmatter":{"title":"JPA 등장배경"}}},{"node":{"id":"9d2a87b6-2b9c-5b87-b790-3426d17c2d8e","fields":{"slug":"/intellij-final-keyword/"},"frontmatter":{"title":"IntelliJ에서 메소드 추출한 메소드의 파라미터에 final 키워드 자동 추가하기"}}},{"node":{"id":"251e9767-1c92-5cf5-9cef-2c4a42c10df2","fields":{"slug":"/git-branch-strategy/"},"frontmatter":{"title":"달록팀의 git 브랜치 전략을 소개합니다."}}},{"node":{"id":"5090cce3-0c1f-5376-badc-1d25e44c1bd9","fields":{"slug":"/infinite-scroll/"},"frontmatter":{"title":"React에서 무한 스크롤 구현하기"}}},{"node":{"id":"bcb53ba5-0286-5d10-96c2-fdcb88e2cc60","fields":{"slug":"/package-structure/"},"frontmatter":{"title":"달록에 적절한 패키지 구조 고민하기"}}},{"node":{"id":"a7fc89de-f37c-596e-a81d-3d4fe5a795b8","fields":{"slug":"/data-jpa-slice-page/"},"frontmatter":{"title":"Spring Data JPA의 Slice & Page"}}},{"node":{"id":"e1ba92ee-0cf0-50c8-80bd-5da5075df8d1","fields":{"slug":"/data-jpa-auditing/"},"frontmatter":{"title":"Spring Data JPA의 Auditing"}}},{"node":{"id":"3e036508-c916-504e-9e8d-89f69332471e","fields":{"slug":"/separated-interface/"},"frontmatter":{"title":"외부와 의존성 분리하기"}}},{"node":{"id":"cade544a-16ef-58a3-b97c-824986a8395f","fields":{"slug":"/apply-rest-docs/"},"frontmatter":{"title":"MockMvc를 사용한 Spring RestDocs"}}},{"node":{"id":"87649d54-d59e-58a6-afd5-8491eb4113a8","fields":{"slug":"/properties-to-object/"},"frontmatter":{"title":"properties 객체로 다루기"}}},{"node":{"id":"eb380f6d-5a00-5a9e-a916-003fb292cc8a","fields":{"slug":"/test-fixture-constant/"},"frontmatter":{"title":"테스트에서 Entity 객체를 상수로 두면 안 되는 이유"}}},{"node":{"id":"9734e30a-b430-5922-919d-f53808a56eb9","fields":{"slug":"/what_is_nginx/"},"frontmatter":{"title":"NGINX 란?"}}},{"node":{"id":"9ebc6e21-2a76-5d42-be33-c2dae8c849b2","fields":{"slug":"/ssl_protocol/"},"frontmatter":{"title":"SSL을 통한 HTTPS통신 과정"}}},{"node":{"id":"fa5ad595-1f81-5a20-a884-2da69adee3c5","fields":{"slug":"/integration-test-slice-test/"},"frontmatter":{"title":"통합 테스트와 슬라이스 테스트"}}},{"node":{"id":"d8c66823-bb05-5e83-a6a1-2fd9af450b6f","fields":{"slug":"/query-invalidation/"},"frontmatter":{"title":"React-Query에서의 데이터 최신화 (Query Invalidation)"}}},{"node":{"id":"f5187517-342f-52a1-9092-d12c1a80d132","fields":{"slug":"/seperate-components/"},"frontmatter":{"title":"컴포넌트 분리 기준"}}},{"node":{"id":"d6249c8b-bea6-5c91-8477-d3dd15ad9b39","fields":{"slug":"/test-isolation/"},"frontmatter":{"title":"테스트 격리"}}},{"node":{"id":"98e390ef-fb19-5d01-a3ef-d14bc0e65176","fields":{"slug":"/dallog-jacoco/"},"frontmatter":{"title":"달록의 Jacoco 적용기 (feat. Gradle)"}}},{"node":{"id":"ab7073d6-575f-55b8-8b1d-fec1ea27916f","fields":{"slug":"/cannot-scroll-to-top-of-flex-element/"},"frontmatter":{"title":"스크롤을 했더니 윗부분이 안 보여요!"}}},{"node":{"id":"33d19946-de0c-5b41-bfa0-d7c3fd80f10b","fields":{"slug":"/google-refresh-token/"},"frontmatter":{"title":"Google은 Refresh Token을 쉽게 내주지 않는다."}}},{"node":{"id":"8168857d-a82c-5608-bd40-cea4b917d17d","fields":{"slug":"/submodule/"},"frontmatter":{"title":"달록 서브모듈 도입기"}}},{"node":{"id":"836fc724-7e2f-5c7a-a42b-c0cc9163167a","fields":{"slug":"/dallog-flyway/"},"frontmatter":{"title":"달록의 데이터베이스 마이그레이션을 위한 Flyway 적용기"}}},{"node":{"id":"7a3bde6d-746b-56fd-8d91-0d8059ebf1f8","fields":{"slug":"/json-property-json-naming/"},"frontmatter":{"title":"@JsonProperty, @JsonNaming"}}},{"node":{"id":"50673f5c-f835-5982-b70c-b77e5a352a2c","fields":{"slug":"/servlet-life-cycle/"},"frontmatter":{"title":"서블릿 생명주기와 직접만든 톰캣을 통한 의문점"}}},{"node":{"id":"61e7f4d1-7b3a-5968-bfe8-c3f6efb88748","fields":{"slug":"/preparing-for-performance-test/"},"frontmatter":{"title":"톰캣 튜닝을 위한 달록의 서버 성능 테스트 준비 과정"}}},{"node":{"id":"9272061d-68c6-5f82-a961-0e2efe0fd6be","fields":{"slug":"/cyclic-dependency/"},"frontmatter":{"title":"cyclic dependency"}}},{"node":{"id":"6e779308-f266-58af-bfcc-e9fee6d39a98","fields":{"slug":"/multi-datasource-issue-with-osiv/"},"frontmatter":{"title":"대체 왜 DataSource 라우팅이 안되는거야!? (feat. OSIV)"}}},{"node":{"id":"c7bea043-345c-5f78-ae53-796a83812961","fields":{"slug":"/react-query-useMutation-trouble-shooting/"},"frontmatter":{"title":"react-query useMutation onSuccess 안 되는줄 알았던 트러블 슈팅"}}},{"node":{"id":"cf403487-1c48-5ca7-b5c2-ef0d8fefe3c4","fields":{"slug":"/jenkins-distributed-build-architecture/"},"frontmatter":{"title":"젠킨스 분산 빌드 아키텍처 구축"}}},{"node":{"id":"24c152c7-4e94-5b84-aaea-a5a9a8357693","fields":{"slug":"/zero-downtime-deployment/"},"frontmatter":{"title":"달록 무중단 배포 도입기"}}},{"node":{"id":"623f9105-974d-51b9-84c7-f6298a8d1c19","fields":{"slug":"/get-valid-accessToken/"},"frontmatter":{"title":"refreshToken으로 accessToken 재발급하기"}}},{"node":{"id":"d34299f0-eb49-5aef-a38f-963200d5fd6d","fields":{"slug":"/test-readability/"},"frontmatter":{"title":"어떻게 테스트 코드 가독성을 개선할 수 있을까??"}}},{"node":{"id":"fe27c1ec-d040-5cf4-934a-a5eeb2131dfb","fields":{"slug":"/troubleshooting-of-category-role-concurrency-issue/"},"frontmatter":{"title":"JPA의 낙관적 락을 사용한 동시성 이슈 해결"}}},{"node":{"id":"9df1e141-0451-5e3c-a777-0efe8817dcf3","fields":{"slug":"/prevent-useless-rerendering/"},"frontmatter":{"title":"컴포넌트의 불필요한 리렌더링 막기: 달력 페이지 리팩토링"}}},{"node":{"id":"42182b6e-f280-51b7-b3d2-abe2fb39e666","fields":{"slug":"/optimizing-external-calendar-api-calling-with-spring-local-cache/"},"frontmatter":{"title":"스프링 로컬 캐시를 사용한 외부 캘린더 API 호출 최적화"}}}]},"previous":{"fields":{"slug":"/jenkins-build-optimization/"},"frontmatter":{"title":"젠킨스 빌드 최적화를 향한 여정"}},"next":{"fields":{"slug":"/cannot-scroll-to-top-of-flex-element/"},"frontmatter":{"title":"스크롤을 했더니 윗부분이 안 보여요!"}}},"pageContext":{"id":"98e390ef-fb19-5d01-a3ef-d14bc0e65176","series":null,"previousPostId":"a3c7cbae-6f4f-54c3-84e1-8e63102179c1","nextPostId":"ab7073d6-575f-55b8-8b1d-fec1ea27916f"}},"staticQueryHashes":[]}