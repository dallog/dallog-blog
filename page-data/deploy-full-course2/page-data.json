{"componentChunkName":"component---src-templates-post-jsx","path":"/deploy-full-course2/","result":{"data":{"site":{"siteMetadata":{"title":"dal.log"}},"markdownRemark":{"id":"8bc0402c-3e53-5b2f-8b5d-155b47d70fae","excerpt":"이 글은 우테코 달록팀 크루 파랑이 작성했습니다. 실제 배포 설정 그럼 이제 실제로 어떤 과정을 통해 배포를 진행했는지 자세히 살펴보겠습니다. EC2 생성 EC2 → 인스턴스 → 인스턴스 시작 이름 및 태그 이름: ec2-dallog-XXXX 태그:  -  애플리케이션 및 OS 이미지  아키텍처:  인스턴스 유형  키 페어  네트워크 설정 보안 그룹 기존…","html":"<blockquote>\n<p>이 글은 우테코 달록팀 크루 <a href=\"https://github.com/summerlunaa\">파랑</a>이 작성했습니다.</p>\n</blockquote>\n<h2>실제 배포 설정</h2>\n<p>그럼 이제 실제로 어떤 과정을 통해 배포를 진행했는지 자세히 살펴보겠습니다.</p>\n<h2>EC2 생성</h2>\n<p>EC2 → 인스턴스 → 인스턴스 시작</p>\n<h3>이름 및 태그</h3>\n<ul>\n<li>이름: ec2-dallog-XXXX</li>\n<li>태그: <code class=\"language-text\">Role</code> - <code class=\"language-text\">student</code></li>\n</ul>\n<h3>애플리케이션 및 OS 이미지</h3>\n<ul>\n<li><code class=\"language-text\">Ubuntu</code></li>\n<li>아키텍처: <code class=\"language-text\">64비트(Arm)</code></li>\n</ul>\n<h3>인스턴스 유형</h3>\n<ul>\n<li><code class=\"language-text\">t4g.micro</code></li>\n</ul>\n<h3>키 페어</h3>\n<ul>\n<li><code class=\"language-text\">key-dallog</code></li>\n</ul>\n<h3>네트워크 설정</h3>\n<ul>\n<li>\n<p>보안 그룹</p>\n<ul>\n<li>기존 보안 그룹 선택: <code class=\"language-text\">SG-PROJECT-DEFAULT</code></li>\n</ul>\n</li>\n</ul>\n<h2>탄력적 IP(Elastic IP) 설정</h2>\n<p><a href=\"https://docs.aws.amazon.com/ko_kr/AWSEC2/latest/UserGuide/elastic-ip-addresses-eip.html\">AWS 공식 문서</a></p>\n<h3>탄력적 IP란?</h3>\n<ul>\n<li>동적 클라우드 컴퓨팅을 위해 고안된 정적 IPv4 주소 (IPv6는 지원X)</li>\n<li>탄력적 IP 주소는 AWS 계정에 할당되며 릴리스할 때까지 할당된 상태로 유지된다.</li>\n</ul>\n<p>원래 EC2 인스턴스를 생성하면 동적 IP를 할당받습니다. 따라서 인스턴스를 중지했다가 다시 시작하면 IP가 바뀝니다. IP가 계속 바뀌면 배포 설정을 계속해서 바꿔줘야 하겠죠? 탄력적 IP는 고정 IP 주소이기 때문에 인스턴스를 중지했다 재시작해도 IP 주소가 바뀌지 않습니다.</p>\n<h3>설정</h3>\n<ul>\n<li>EC2 → 네트워크 및 보안 → 탄력적 IP → 탄력적 IP 주소 할당</li>\n<li>태그: <code class=\"language-text\">Role</code> - <code class=\"language-text\">student</code> → 할당</li>\n<li>작업 → 탄력적 IP 주소 연결 → 원하는 인스턴스 선택 → 프라이빗 주소 선택 → 연결</li>\n</ul>\n<p><span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;'>\n      <a class='gatsby-resp-image-link' href='/static/c2f0506d789260103c3cf8ef6984e89d/a82f2/ec2.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 48.23529411764706%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABdUlEQVQoz31SCW7CMBDM/z9VDpWqQFFb0hQqyEGEczeXyGXiqZ2EEFTBSiNL1u7M7s5KuqbD0HVYlo1TlqM6M1S05m8LKkApVM3AbrfHXlURxwlEMMZ6XEJayT+YzN/xuZZhEBdeWsGJiwZeUiJIctR1DY0LK4oCWZa5uNUUi/+etFWAlJc1koziUYhCSs94HIKYd7gnGyRp1KjcKA5GKasK8peC8WSC0XiC+XyO9XoN1/VxJDbCKLl2SFl5X7MjFDskfExdN2AYB6iqBtM0QRxO6Cc4eCmysp1AIlyhSRLmHEzYjgvfD3oyNiB+OHCXIy2Xb5hOp3gajbDdbuEHAQixUBTl1cl+S3yfAqwTGuCSIZ1OGT+XDFVF76qe0xiFZ6FOQiBLgZwjDQf4BYv81pTdXkUYRv/PYGBKEbhQ+Lk8z16wXCzwvdnAjXM4UQubn1jmu50plN4c6bCzntBzoHOXldcZtI8V0qOBkhMIFN1Lid4Q/gFxkAEgDTA/8gAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='ec2' title='ec2' src='/static/c2f0506d789260103c3cf8ef6984e89d/ca1dc/ec2.png' srcset='/static/c2f0506d789260103c3cf8ef6984e89d/e7570/ec2.png 170w,\n/static/c2f0506d789260103c3cf8ef6984e89d/f46e7/ec2.png 340w,\n/static/c2f0506d789260103c3cf8ef6984e89d/ca1dc/ec2.png 680w,\n/static/c2f0506d789260103c3cf8ef6984e89d/02d09/ec2.png 1020w,\n/static/c2f0506d789260103c3cf8ef6984e89d/a82f2/ec2.png 1358w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span></p>\n<h2>도메인(DNS) 설정</h2>\n<p><span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;'>\n      <a class='gatsby-resp-image-link' href='/static/f6b2c455c49f07417c1fed4552d2352c/650fc/dns.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 23.52941176470588%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA0klEQVQY02WQWaqFQAxE3f9yVBBB/BL9cQ0KzooDOM91qUALjxcIhKRyujpa13WY5xlt20LF+74oigJZlkn9PI8k6+u6RN/3PeI4xnmespumKe77hnYcB6ZpQl3XaJpGxFwMggC2bcN1XREzCCVgGAbs+y5a9qqqkge4p1G4LAvyPJfctk0Gvu/DsiwYhoEoij4gHRJIjQoaWddV6g9IF2VZygLFnufBNE3ouv4PSDfqBApIhgDZpH3egdY5YC8MQ/mu4zhIkuQPcBzHD8jkA+pnPyMfex5QtHoyAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='dns' title='dns' src='/static/f6b2c455c49f07417c1fed4552d2352c/ca1dc/dns.png' srcset='/static/f6b2c455c49f07417c1fed4552d2352c/e7570/dns.png 170w,\n/static/f6b2c455c49f07417c1fed4552d2352c/f46e7/dns.png 340w,\n/static/f6b2c455c49f07417c1fed4552d2352c/ca1dc/dns.png 680w,\n/static/f6b2c455c49f07417c1fed4552d2352c/02d09/dns.png 1020w,\n/static/f6b2c455c49f07417c1fed4552d2352c/9d567/dns.png 1360w,\n/static/f6b2c455c49f07417c1fed4552d2352c/650fc/dns.png 1690w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span></p>\n<ul>\n<li>\n<p><code class=\"language-text\">jenkins.dallog.me</code></p>\n<ul>\n<li>달록의 젠킨스 서버</li>\n</ul>\n</li>\n<li>\n<p><code class=\"language-text\">allog.dallog.me</code></p>\n<ul>\n<li>달록의 프론트 서버 (현재 ssl 인증서 발급 문제로 해당 서브 도메인 사용 중. 추후 dallog.me로 변경 예정)</li>\n</ul>\n</li>\n<li>\n<p><code class=\"language-text\">api.dallog.me</code></p>\n<ul>\n<li>달록의 백엔드 WS 운영 서버</li>\n</ul>\n</li>\n<li>\n<p><code class=\"language-text\">dev-api.dallog.me</code></p>\n<ul>\n<li>달록의 백엔드 개발 서버</li>\n</ul>\n</li>\n</ul>\n<h4>여기서 잠깐, <code class=\"language-text\">TTL</code>이란?</h4>\n<p>Time To Live. DNS 변경 사항이 적용되기까지 걸리는 시간. 단위는 초.</p>\n<h4>여기서 잠깐, <code class=\"language-text\">레코드 타입</code> 어떻게 다를까?</h4>\n<ul>\n<li>\n<p><code class=\"language-text\">A</code></p>\n<ul>\n<li>정규화된 도메인 이름/호스트명을 IPv4에 연결한다.</li>\n<li><code class=\"language-text\">HOST</code>: 도메인에 접두사 부여   ex) api.dallog.me</li>\n<li><code class=\"language-text\">ANSWER</code>: IP   ex) 123.456.123.456</li>\n</ul>\n</li>\n<li>\n<p><code class=\"language-text\">CNAME</code></p>\n<ul>\n<li>실제 호스프명(A 레코드)와 연결되는 별칭 도메인을 정의한다.</li>\n<li><code class=\"language-text\">HOST</code>: 도메인에 접두사 부여   ex) api.dallog.me</li>\n<li><code class=\"language-text\">ANSWER</code>: 연결할 별칭 도메인 정의</li>\n</ul>\n</li>\n<li>\n<p><code class=\"language-text\">TXT</code></p>\n<ul>\n<li>임의의 문자열로 구성된 값. 소유한 도메인에 TXT 레코드를 추가하여 유효한 도메인인지 판단할 수 있다.</li>\n</ul>\n</li>\n</ul>","frontmatter":{"title":"달록 배포 총🔫정리 2 - EC2와 DNS 설정하기","date":"August 07, 2022","update":"August 07, 2022","tags":["deploy","DevOps"],"series":"달록 배포 총🔫정리"},"fields":{"slug":"/deploy-full-course2/","readingTime":{"minutes":3.325}}},"seriesList":{"edges":[{"node":{"id":"5a96e346-8893-537d-b35c-811304ffa4ce","fields":{"slug":"/deploy-full-course1/"},"frontmatter":{"title":"달록 배포 총🔫정리 1 - 전체적인 구조 살펴보기"}}},{"node":{"id":"8bc0402c-3e53-5b2f-8b5d-155b47d70fae","fields":{"slug":"/deploy-full-course2/"},"frontmatter":{"title":"달록 배포 총🔫정리 2 - EC2와 DNS 설정하기"}}},{"node":{"id":"ba13f1c5-fc6b-5f19-afbc-ea2bc164b7ee","fields":{"slug":"/deploy-full-course3/"},"frontmatter":{"title":"달록 배포 총🔫정리 3 - SSL 인증서 발급과 NGINX 설정"}}}]},"previous":{"fields":{"slug":"/deploy-full-course1/"},"frontmatter":{"title":"달록 배포 총🔫정리 1 - 전체적인 구조 살펴보기"}},"next":{"fields":{"slug":"/deploy-full-course3/"},"frontmatter":{"title":"달록 배포 총🔫정리 3 - SSL 인증서 발급과 NGINX 설정"}}},"pageContext":{"id":"8bc0402c-3e53-5b2f-8b5d-155b47d70fae","series":"달록 배포 총🔫정리","previousPostId":"5a96e346-8893-537d-b35c-811304ffa4ce","nextPostId":"ba13f1c5-fc6b-5f19-afbc-ea2bc164b7ee"}},"staticQueryHashes":[]}