{"componentChunkName":"component---src-templates-post-jsx","path":"/jenkins-build-optimization/","result":{"data":{"site":{"siteMetadata":{"title":"dal.log"}},"markdownRemark":{"id":"a3c7cbae-6f4f-54c3-84e1-8e63102179c1","excerpt":"이 글은 우테코 달록팀 크루 후디가 작성했습니다. 문제 상황 현재 달록팀 젠킨스 설정상 프론트엔드와 백엔드 배포를 한 인스턴스에서 진행합니다.  브랜치에 소스코드가 병합되면, 이것이 트리거가 되어 프론트엔드와 백엔드 배포 파이프라인 스크립트가 실행됩니다. 아직 별도로 분기처리는 하지 않아 프론트엔드와 백엔드 배포가 동시에 시작됩니다. 하지만, 달록팀이 젠…","html":"<blockquote>\n<p>이 글은 우테코 달록팀 크루 <a href=\"https://github.com/devHudi\">후디</a>가 작성했습니다.</p>\n</blockquote>\n<h2>문제 상황</h2>\n<p>현재 달록팀 젠킨스 설정상 프론트엔드와 백엔드 배포를 한 인스턴스에서 진행합니다. <code class=\"language-text\">develop</code> 브랜치에 소스코드가 병합되면, 이것이 트리거가 되어 프론트엔드와 백엔드 배포 파이프라인 스크립트가 실행됩니다. 아직 별도로 분기처리는 하지 않아 프론트엔드와 백엔드 배포가 동시에 시작됩니다.</p>\n<p>하지만, 달록팀이 젠킨스를 실행하기 위해 사용하고 있는 EC2 인스턴스는 <strong>t4g.micro</strong> 입니다. 이 인스턴스는 기본 제공되는 <strong>물리 메모리(RAM)가 1GB</strong> 가량입니다. 사실 프론트엔드와 백엔드 배포를 동시에 진행하기에는 턱없이 모자란 사양입니다.</p>\n<p><figure class='gatsby-resp-image-figure' style='margin-bottom: 16px;'>\n    <span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; '>\n      <a class='gatsby-resp-image-link' href='/static/d1e2946808d9647938826b197c9ec5cf/f7121/build-9m.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 10.588235294117647%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAfElEQVQI1yXMTQ6CMBBAYe9/KHZyA/9qhHaUyEzbtEBg+0zq4u1evtMwJXwI9P2ZmCLrsiEp8NArT73jy0BYBmTxyBRwziFvodRCzplSCmrKrDMWjdNxHIgIXdeRcmLf9j9oF5zdGMuLsI4Nnb6f9nrvG1RrxcxQ1VaMkR9u4ZNUmSwhkwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='스프링부트 애플리케이션 빌드에 9분 가량 소요된다' title='스프링부트 애플리케이션 빌드에 9분 가량 소요된다' src='/static/d1e2946808d9647938826b197c9ec5cf/ca1dc/build-9m.png' srcset='/static/d1e2946808d9647938826b197c9ec5cf/e7570/build-9m.png 170w,\n/static/d1e2946808d9647938826b197c9ec5cf/f46e7/build-9m.png 340w,\n/static/d1e2946808d9647938826b197c9ec5cf/ca1dc/build-9m.png 680w,\n/static/d1e2946808d9647938826b197c9ec5cf/f7121/build-9m.png 899w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span>\n    <figcaption class='gatsby-resp-image-figcaption'>스프링부트 애플리케이션 빌드에 9분 가량 소요된다</figcaption>\n  </figure></p>\n<p>이런 상황에서 프론트엔드와 백엔드 빌드가 각각 10분 가까이 걸리는 경우도 존재하고, 빌드 도중에 아예 서버에 간헐적으로 접속할 수 없게되는 경우도 심심치 않게 목격했습니다.</p>\n<p><figure class='gatsby-resp-image-figure' style='margin-bottom: 16px;'>\n    <span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; '>\n      <a class='gatsby-resp-image-link' href='/static/1fea4fc6515e45e4a1095e351637634c/bb3e3/dead-server.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 64.11764705882354%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABYlAAAWJQFJUiTwAAABIklEQVQ4y5VTW3KDMAzkIICBAAZj8yykeZUeJX85Q/97k96gF9zaLmYIU5L6Q0ijkda7knBIsEMQxtpMvMzZmqM+PolwvrxDlLWO10U2DzimoW17UMrgugSeH2pg5W1Zz4BxkiEvSjBeQVQtaM7BRQOjwNQ9A54ll1WHYX9Cvz/icBrRdIP0b2DykV1M7RkWEzNeNtpyJpDKEbCi0t4aMJFNXf+Kuh0k2C8rxVwZCSwlmyJeS8B+BG/PyMWAv07q0eZVbgakWaGXksllsMmvG8mTc7oD1LaMF/K22Cnvk1CbyU2AEdJMgDcHRKuNbs1MgcRU4PrxhdvntxzTBZ7n388wjNJ/H7GuiRI9b/EySiKZJuYs6T+SuSXZc335d3nzJfwA9Q1x1PK/4ZsAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='서버: 살... 려줘...' title='서버: 살... 려줘...' src='/static/1fea4fc6515e45e4a1095e351637634c/ca1dc/dead-server.png' srcset='/static/1fea4fc6515e45e4a1095e351637634c/e7570/dead-server.png 170w,\n/static/1fea4fc6515e45e4a1095e351637634c/f46e7/dead-server.png 340w,\n/static/1fea4fc6515e45e4a1095e351637634c/ca1dc/dead-server.png 680w,\n/static/1fea4fc6515e45e4a1095e351637634c/02d09/dead-server.png 1020w,\n/static/1fea4fc6515e45e4a1095e351637634c/9d567/dead-server.png 1360w,\n/static/1fea4fc6515e45e4a1095e351637634c/bb3e3/dead-server.png 1544w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span>\n    <figcaption class='gatsby-resp-image-figcaption'>서버: 살... 려줘...</figcaption>\n  </figure></p>\n<p>굳이, 서버가 죽지 않더라도 빌드가 트리거되고 끝나기까지는 젠킨스 웹페이지 이동도 어려울 정도로 성능 저하가 극심했습니다.</p>\n<h2>문제 원인 추정</h2>\n<p><figure class='gatsby-resp-image-figure' style='margin-bottom: 16px;'>\n    <span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; '>\n      <a class='gatsby-resp-image-link' href='/static/cea48b6b6374d7626ea3b4452810856a/a2e74/cpu-utilization.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 38.82352941176471%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAtElEQVQoz6WRWQ7DIAxEuf9FWzVfIezYTO00kKh7VaSBwRqeAJvT+YzLNKHWilwKyhNpPcQI5z1CCPAxIco+hIiYEhbnMFsLaxcYZoaO1tpP4hd1k3OGQr8FyQSSfCz0P7DfqlQSMSo9njP6Rwpkboe1+72eBZLvQLrn7daaG0ANlHeqPA6oX58ug1ihe24Ae2Btzvr8TXwTH6T14beVaPfGp4x5tnDSeiut739KREP14D/pCrcEd8O9lH8RAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='빌드 중의 젠킨스 인스턴스 CPU 이용률' title='빌드 중의 젠킨스 인스턴스 CPU 이용률' src='/static/cea48b6b6374d7626ea3b4452810856a/ca1dc/cpu-utilization.png' srcset='/static/cea48b6b6374d7626ea3b4452810856a/e7570/cpu-utilization.png 170w,\n/static/cea48b6b6374d7626ea3b4452810856a/f46e7/cpu-utilization.png 340w,\n/static/cea48b6b6374d7626ea3b4452810856a/ca1dc/cpu-utilization.png 680w,\n/static/cea48b6b6374d7626ea3b4452810856a/02d09/cpu-utilization.png 1020w,\n/static/cea48b6b6374d7626ea3b4452810856a/9d567/cpu-utilization.png 1360w,\n/static/cea48b6b6374d7626ea3b4452810856a/a2e74/cpu-utilization.png 3026w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span>\n    <figcaption class='gatsby-resp-image-figcaption'>빌드 중의 젠킨스 인스턴스 CPU 이용률</figcaption>\n  </figure></p>\n<p>일단 먼저 EC2 모니터링 탭에서 CPU 사용량을 살펴보았습니다. 예상은 했지만, CPU 사용량이 문제의 원인은 아니었습니다. 그렇다면 메모리는 어떨까요?</p>\n<p>현재 달록 젠킨스 서버는 물리 메모리 1gb와 스왑 영역으로 확보해둔 가상 메모리 2gb, 더해서 총 <strong>3gb의 메모리로 운용</strong>되고 있습니다. 이 환경에서 백엔드와 프론트엔드 빌드가 동시에 시작되면 여유 메모리는 어느정도 수준까지 낮아질까요? <code class=\"language-text\">free</code> 명령을 통해 알아 보았습니다.</p>\n<p><figure class='gatsby-resp-image-figure' style='margin-bottom: 16px;'>\n    <span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; '>\n      <a class='gatsby-resp-image-link' href='/static/8592fe8fe170fd39a6d01f18366840dc/80132/lack-of-memory.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 10.588235294117647%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAIAAADXZGvcAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAZ0lEQVQI1xWLWw6EIAxFG6AUlDI8EhKigoZ/97+8qT83576AR+QnhhHi/B3vGUrct9B7N8YAADOLOudyzt57sSklRBSotcI4BhqUBSHd162Vlm7OqfUHay2lFBGVUiSx1spHEoHW2h+PTQYNg65VhwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='백엔드, 프론트엔드 동시 빌드 중 여유 메모리' title='백엔드, 프론트엔드 동시 빌드 중 여유 메모리' src='/static/8592fe8fe170fd39a6d01f18366840dc/ca1dc/lack-of-memory.png' srcset='/static/8592fe8fe170fd39a6d01f18366840dc/e7570/lack-of-memory.png 170w,\n/static/8592fe8fe170fd39a6d01f18366840dc/f46e7/lack-of-memory.png 340w,\n/static/8592fe8fe170fd39a6d01f18366840dc/ca1dc/lack-of-memory.png 680w,\n/static/8592fe8fe170fd39a6d01f18366840dc/02d09/lack-of-memory.png 1020w,\n/static/8592fe8fe170fd39a6d01f18366840dc/80132/lack-of-memory.png 1294w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span>\n    <figcaption class='gatsby-resp-image-figcaption'>백엔드, 프론트엔드 동시 빌드 중 여유 메모리</figcaption>\n  </figure></p>\n<p>물리 메모리의 여유 공간이 <strong>고작 30~40mb</strong> 정도의 메모리만 남았습니다. 가상 메모리도 약 <strong>400mb가량</strong> 남아있는 상황입니다. 상황에 따라 다르겠지만, 메모리가 상당히 부족한 것을 보아 역시 메모리의 문제였던 것 같습니다.</p>\n<p>메모리가 부족한 것이 정확히 어떤 문제를 일으키게 된건지 확실하지는 않지만 <strong>CPU 스레싱</strong>이 가장 큰 원인이 아닐까 추정됩니다.</p>\n<h3>CPU 스레싱</h3>\n<p>리눅스에서 프로세스가 동작할 때 프로세스 전부를 물리 메모리에 띄우지 않고 <strong>가상 메모리</strong>라는 곳에 보관합니다. 젠킨스 서버도 스왑 영역을 2gb로 지정해서 이 영역만큼을 가상 메모리로 활용하고 있습니다. 스왑 영역은 하드디스크와 같은 저장장치에 위치합니다.</p>\n<p>CPU가 작업 처리를 위해 특정 데이터를 메모리에 요청을 했는데, CPU가 원하는 데이터가 물리 메모리가 아니라 가상 메모리에 저장되어 있을 수 있습니다. 이런 상황을 <strong>페이지 부재(page fault)</strong>라고 합니다. 페이지 부재가 발생하면, 스왑 영역에서 물리 메모리로 데이터를 옮겨야 하는 상황, 즉 페이지를 교체해야하는 상황이 발생합니다.</p>\n<p>알다시피 하드디스크와 같은 장비는 I/O 속도가 굉장히 느립니다. 그런데 만약 물리 메모리가 매우 한정되어 있어 페이지 부재가 자주 발생하게 되고, 이런 상황이 반복되어 <strong>CPU가 작업을 처리하는 속도보다 페이지를 교체하는 시간이 훨씬 많이 들것</strong>입니다. 이런 현상을 <strong>CPU 스레싱(thrashing)</strong>이라고 합니다.</p>\n<p>달록의 젠킨스 서버도 스레싱 현상이 발생해서 빌드 처리 속도가 극도로 낮아진 것이 아닐까 추정됩니다.</p>\n<h2>문제 해결</h2>\n<p>결국 서버 스펙상 프론트엔드 빌드와 백엔드 빌드가 동시에 실행되어 메모리가 부족해지는 것이 문제라면, 둘을 동시에 실행되지 않게 만들면 손쉽게 문제를 해결할 수 있을것 입니다.</p>\n<h3>젠킨스 노드</h3>\n<p>젠킨스의 <strong>노드(node)</strong>는 파이프라인 등을 실행할 수 있는 머신을 의미합니다. 노드는 다수의 <strong>실행기(executor)</strong>를 갖습니다. 노드는 실행기의 수 만큼 동시에 빌드를 실행할 수 있습니다.</p>\n<p>확인해보니 젠킨스에는 기본 노드 1개가 존재했고, 해당 노드에는 실행기가 2개로 설정되어 있었습니다. 이를 1로 변경하여 더이상 병렬적으로 백엔드, 프론트엔드 빌드가 실행되지 않도록 해줍시다.</p>\n<p><span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 458px; margin-bottom: 16px;'>\n      <a class='gatsby-resp-image-link' href='/static/9ff0948c5a6d9e5f0c208982f6f68c30/e5e51/number-of-executors.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 45.88235294117647%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAx0lEQVQoz6WSzQqEIBSFff9Ha9Emgv6TogYaqMaYMrXOpDPFFLTywKfcxT2eq5J1XWGjaz/RyzAMcBwHURTBdV2EYYiyLBEEAdI0NXscx/B9H57noW1b1PUDRVEcpjvGUAhhmijNTWOSJHg2DaqqQp5lpqaUGnNN3/dgjKHbjK8idyMv+sSbMdWyQEgJKRX4LE78Ekp0L4ZxnDBO3DDxL3v9z8TnAz6fMYZKLWi7bjN8w1ZHwp4NRyobyP5K+k60sS3E9h9e9QFZOb1Dkd18uAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='number of executors' title='number of executors' src='/static/9ff0948c5a6d9e5f0c208982f6f68c30/e5e51/number-of-executors.png' srcset='/static/9ff0948c5a6d9e5f0c208982f6f68c30/e7570/number-of-executors.png 170w,\n/static/9ff0948c5a6d9e5f0c208982f6f68c30/f46e7/number-of-executors.png 340w,\n/static/9ff0948c5a6d9e5f0c208982f6f68c30/e5e51/number-of-executors.png 458w' sizes='(max-width: 458px) 100vw, 458px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span></p>\n<p><strong>Jenkins 관리 > 노드 관리 > 노드 이름 > 설정 > Number of executors</strong> 를 1로 설정해줍니다. 이제 병렬적으로 빌드가 트리거되어도 하나의 빌드만 진행되고, 나머지 빌드는 빌드 대기 목록에서 자신의 차례를 기다리게 될 것 입니다.</p>\n<p><span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 678px; margin-bottom: 16px;'>\n      <a class='gatsby-resp-image-link' href='/static/6dbd8030254f5929e4ce3191c0e5b44e/dc057/waiting.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 56.470588235294116%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAABa0lEQVQoz5VSy27CMBDM/39NT+WCqLiiQBIiEKgqj5YDhOZB3s1rmtliK0JcutLIu2t7vLtjI4oirFYrbDYbbLdb8S3LwvF4RBiGiOMYt9tNQP8ZyOF5nvgGg/V6jf1+j8PhgN1uB9d1ZeVelmVI01SgiIfQhNfvP8KqquRSkiS6ojzPdUwEQQDf99G2LZqmeY40QVPXMPiy4zjS6mKxgGmaEs/nc4mXy6VUzA5oXdfh0bquRfHxjo6E+Ic9I+uTGGaNoiikxbIsQV/FCipH8MwjVP7n7huczWQywWw2w2g0wng8xnQ6lVlyfhz4EGquKqYw5DidTuLLDM/nM669SpfLpYcnIiixhuBZVRn94R5F5GpwLnVdIQoDIVIv+v63qPo4Pz7OaoY5ioH7WRHlGsR4eX2D3X9ox3H79k1YtoM0y/VFdZl/1bZtqUZZ+fWJui9AE5ZVgySvlWja+L8UmSJku5whBdOPcb37vxj/SGZJoBe5AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='waiting' title='waiting' src='/static/6dbd8030254f5929e4ce3191c0e5b44e/dc057/waiting.png' srcset='/static/6dbd8030254f5929e4ce3191c0e5b44e/e7570/waiting.png 170w,\n/static/6dbd8030254f5929e4ce3191c0e5b44e/f46e7/waiting.png 340w,\n/static/6dbd8030254f5929e4ce3191c0e5b44e/dc057/waiting.png 678w' sizes='(max-width: 678px) 100vw, 678px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span></p>\n<h2>최적화 결과</h2>\n<p><span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 650px; margin-bottom: 16px;'>\n      <a class='gatsby-resp-image-link' href='/static/72bf72b93a500f18d060fef15793ec4b/663f3/super-strong-jenkins.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 61.1764705882353%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAAC+UlEQVQoz22T/U9TZxTH77/ijzPObIk/bEumyfbTJIYlS5YtjOzFuLhp1DhmiEIEFKW2iAhS+ya9hZaCQMul0NLC3S2DZeBrrfQN3CqUVtEtakVFKR9vr7Is0ZOc5zznnOecnOd7zhHW1tZ4G6+TooTR1x9FvngeSWymxynyYnVV8xUKBdZU1uTrOKF4rDvWjUW9SJ1OFwf3/sic4iI73Q+5PwiKOkxGI28jLeH/DQXN+OqeyWT4YdduTI21ZP7sIxp0cD/i42F0CI/9LPknz7iVjJG4PkV2IU0+/1iLE1bVav6eSzFzKcwV2cP0pKI5ZlNJvijdQVNthZp9gsuDVq4Ot6vSQp+tiTtL93G0GQjZGwg5DIx4uijWIixms7hajnN10ITjVAVndXVawtjMTYzHDzIbdrOcCJKPBXgQ9ROw6wn2XtDejP8mY2w24LXqmJTsLN37ByE+E+WSZKatoYquTgfRGzf+g6BLtHHTb2MlNcriVD/N1Qew1FfQdvokE7+HmZ+f5/K1CCmli8iIqOoLCGMBH/moD6XXzO1MjmQiwfCgl4XbaazdEhfMzURkJ9FQBxOShXNNtQy2G0iMtjPmbsXRcoKV2RCzipNxRUbwuqw8iEj8qwJu1Neg9LQSD7UjO5vYWdXA/l+PUfPpVmoqD3F+3098t3kLA24TLE7yaMZPuKcF5se5PmxjyCchdJjPkJvuZWVOJtjRyHJ8hNX0OIWkn8M6HZXlP5PduIHKze9RsXETlo8+plpvgJSfZ8kgS1e8kJYZVrGNxRMIos1Mbuqi1ski6E/iAa1i0qOc0p9gzxEDRz/4kE9KvuadkjK+/OUYdfZe5E49kk2H2HKSkW4zQ/0uVp6/QEjEY/Rb9epXz9Fnqic+KqoJBwiIerZ+9jmHHH7KdRY2lZTzfun3lFU1ctgu0e12aw0sjk9++Snru6UN9q2/0sQTScZkBdFmwtx6Gq/HQ+k3u/i2rhXdwCTbvtrNu9vLKK9u5IjoI3f33htbUuSX1VwEcBK3ww0AAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='super strong jenkins' title='super strong jenkins' src='/static/72bf72b93a500f18d060fef15793ec4b/663f3/super-strong-jenkins.png' srcset='/static/72bf72b93a500f18d060fef15793ec4b/e7570/super-strong-jenkins.png 170w,\n/static/72bf72b93a500f18d060fef15793ec4b/f46e7/super-strong-jenkins.png 340w,\n/static/72bf72b93a500f18d060fef15793ec4b/663f3/super-strong-jenkins.png 650w' sizes='(max-width: 650px) 100vw, 650px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span></p>\n<p><span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;'>\n      <a class='gatsby-resp-image-link' href='/static/9a468224ba0b71aa7f03dc62167574e4/892f1/optimized.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 45.294117647058826%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAABYlAAAWJQFJUiTwAAABjUlEQVQoz1VRSW4bMRCc/7/F0CVX+5CjjcBIDBkWJGs0CznN5k4OZ1+clnNKgSDIQlezuph9/Y9xHLXWMcZ93+m8bds8z23bLoR1uTP75r5BfPZPs36DBMQej8eiKOhqraWKlBI0zdD3pAwhUJM8z08fp67rsq4f6B3SAAAiKq14w4UAOggU2ujPgr2drreKO2e1McSDAMaZ8z4DE8uqenl5psb7uqtO1m3JU60mVBPoCZuOlbGAjusZackRWFtRjRtsNkwLDUlWyQ/5N6PiQwUDM6vUG+pVQs+4u4qxMZsyu9QLNsQMlR9tplwizzQeDXwXT7pKRdPXVKQWYXYlf/9ij0/qcjRf2lC7u7hmQ3kXh9RTmJQEZbMuq+xElW4slXICuYCcBbIL/HmVeDOLtuRyREi8SbUn26D9+XI5HA4oMfiQq893fDvJ96s7n83HLebVj5/Fw5N4fLYhGGWMsYISA+F9yNZl9t6XZdn3/TROMiDzlGwtImAS2KKructrVdQxtTHEu9pa2ukL/wIxnPO4wdso3AAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='optimized' title='optimized' src='/static/9a468224ba0b71aa7f03dc62167574e4/ca1dc/optimized.png' srcset='/static/9a468224ba0b71aa7f03dc62167574e4/e7570/optimized.png 170w,\n/static/9a468224ba0b71aa7f03dc62167574e4/f46e7/optimized.png 340w,\n/static/9a468224ba0b71aa7f03dc62167574e4/ca1dc/optimized.png 680w,\n/static/9a468224ba0b71aa7f03dc62167574e4/02d09/optimized.png 1020w,\n/static/9a468224ba0b71aa7f03dc62167574e4/9d567/optimized.png 1360w,\n/static/9a468224ba0b71aa7f03dc62167574e4/892f1/optimized.png 1834w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span></p>\n<p>빌드를 동시에 실행하지 않도록 설정하였을 뿐인데, 빌드 성능이 <strong>10배 가까이 상승</strong>했습니다. 아주 간단한 설정만 해주었는데 드라마틱하게 성능이 개선되다니 놀랍네요!</p>\n<p>코드가 병합되고 나서 10분은 지나야 빌드가 완료되었다는 알림을 받았었는데, 이제 코드가 병합되고 몇 분내로 프론트엔드와 백엔드 빌드 완료 알림을 받게 되었습니다. 한번에 하나의 빌드만 실행되니 빌드중에도 젠킨스 웹페이지를 접속하는데도 큰 문제가 없게 되었습니다.</p>\n<p>많은 삽질을 했지만 그만큼 재밌던 경험이었습니다. 이만 글 줄이겠습니다!</p>","frontmatter":{"title":"젠킨스 빌드 최적화를 향한 여정","date":"August 09, 2022","update":null,"tags":["DevOps"],"series":"달록팀 CI/CD 이야기"},"fields":{"slug":"/jenkins-build-optimization/","readingTime":{"minutes":8.295}}},"seriesList":{"edges":[{"node":{"id":"258c06fb-1629-5dfc-83b5-95e9d9661aa5","fields":{"slug":"/deploy-automation-with-shell-script/"},"frontmatter":{"title":"쉘 스크립트와 함께하는 달록의 스프링부트 어플리케이션 배포 자동화"}}},{"node":{"id":"d8d96885-2eec-50eb-b4d3-c72d05aca4b6","fields":{"slug":"/install-jenkins-with-docker-on-ec2/"},"frontmatter":{"title":"EC2 환경에서 도커를 활용한 젠킨스 설치하기"}}},{"node":{"id":"0aec665d-0632-510b-8307-fa4158c4c0ac","fields":{"slug":"/continuous-deploy-with-jenkins-1-backend/"},"frontmatter":{"title":"젠킨스를 사용한 달록팀의 지속적 배포 환경 구축기 (1) - 백엔드편"}}},{"node":{"id":"f88fe712-01b6-51ca-84a7-2ded8ef8ab98","fields":{"slug":"/continuous-deploy-with-jenkins-2-frontend/"},"frontmatter":{"title":"젠킨스를 사용한 달록팀의 지속적 배포 환경 구축기 (2) - 프론트엔드편"}}},{"node":{"id":"63ed4d50-249e-5bcb-8140-5bd443937c9f","fields":{"slug":"/jenkins-pipeline-from-scm/"},"frontmatter":{"title":"젠킨스 파이프라인 스크립트 형상 관리"}}},{"node":{"id":"a3c7cbae-6f4f-54c3-84e1-8e63102179c1","fields":{"slug":"/jenkins-build-optimization/"},"frontmatter":{"title":"젠킨스 빌드 최적화를 향한 여정"}}}]},"previous":{"fields":{"slug":"/test-isolation/"},"frontmatter":{"title":"테스트 격리"}},"next":{"fields":{"slug":"/dallog-jacoco/"},"frontmatter":{"title":"달록의 Jacoco 적용기 (feat. Gradle)"}}},"pageContext":{"id":"a3c7cbae-6f4f-54c3-84e1-8e63102179c1","series":"달록팀 CI/CD 이야기","previousPostId":"d6249c8b-bea6-5c91-8477-d3dd15ad9b39","nextPostId":"98e390ef-fb19-5d01-a3ef-d14bc0e65176"}},"staticQueryHashes":[]}